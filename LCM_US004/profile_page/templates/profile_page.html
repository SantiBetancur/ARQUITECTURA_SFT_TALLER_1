{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Market</title>

    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    <header class="main-header">
        <h1><img src="{% static '/Images/LCM_Logo.png' %}" alt="LCM_Logo" class="logo" width="80"><a href="/available_communities/EAFIT/products/" style="font-size: 1.5rem; text-decoration: none;">Local Market</a></h1>
        <nav class="main-nav">
                <a href="javascript:history.back()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chevron-compact-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223"/>
                    </svg>
                </a>
                <a href="/logout/">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                        <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                      </svg>
                </a> 
                {{user.username}}
                <a href="">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                        <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                    </svg>   
                </a>
                
        </nav>
    </header>

    <div class="app-content">
        {% block content%}
        <div style="width: 75%; display: flex;  justify-content: end; position: relative;">

            <div class="profile-detail">
                <h1 style="color: #ffffff;">
                    Mi perfil
                </h1>
                <div class="">
                    <h2 class="profile_name" style="color: whitesmoke; padding: 10px; background-color: #A20B21; border-radius: 10px;  text-align: center;">
                        {{user.username}}
                        
                    </h2>
                    {% if user.email %}
                    <p style="font-size: 17px; color: #fff; font-weight: bold; display: flex; align-items: center;">{{user.email}}
                       
                    <a href="{{user.id}}/edit_me/" style="margin-left: 10px;" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
                        </svg>
                    </a>
                    </p>
                    {% endif %} 
                </div>
                
                <div style="display: flex; justify-content: center;  flex-direction: column; width: 90%; padding: 30px 10px 10px 10px; border-top: 2px solid #fff; align-items: center;">
                    {% if not is_seller %}
                    <p style="font-size: 17px; color: #e0e2ff;">¿Deseas vender productos?</p>
                    <a href="/available_communities/seller_registration/" style="font-size: 15px; font-weight: bold; display: block; color: #ffffff; text-decoration: none; background-color: #0b0a22;">
                        Regístrate AQUÍ
                    </a>
                    {% elif is_seller %}
                    <div class="profile-seller-min-view">
                        {% if seller.photo %}
                     
                            <img src="{{seller.photo.url}}" alt="{{seller.name}} profile photo">
                  
                        
                        {% else %}
                     
                            <img src="{% static 'Images/Df_profile.png' %}" alt="{{ seller.name }} Photo">

                     
                        
                        {% endif %}
                        <div>
                            <p style="font-size: 15px; color: #adff94;">vendedor activo</p>
                            <p style="font-size: 17px; color: #ffffff; font-weight: bold;">{{seller.name}}</p>
                            <a href="/available_communities/seller/{{seller_id}}"> 
                                Admin 
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-lines-fill" viewBox="0 0 16 16" style="margin-left:20px">
                                    <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5m.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z"/>
                                  </svg>
                            </a>
                        </div>
                    </div>
            
                    {% endif %}

                </div>
               
                
    
            </div>
            <div style="display: flex; flex-direction: column;">
                <h2 style="color: #fff; font-size: 25px; margin-bottom: 10%; padding-bottom: 20px; border-bottom: 2px solid #fff;">
                    Tus productos favoritos
                </h2>
        
               

                {% if page_obj %}
                <div style="display: flex; flex-direction: column;">

                    <div class="product-grid">
                        {% for p in page_obj %}
                            <a  href="details/{{p.id}}" class="product">
    
                                {% if p.image %}   
                                <img src="{{p.image.url}}" alt="Product_Photo" class="product-image" >
                                {% else %}
                                <img src="{% static '/Images/LCM_Logo.png' %}" alt="Product_Photo" class="product-image" >
                                {% endif%}
                                    
                                <p class="product-name">{{p.name}}</p>
                                <p class="product-seller">{{p.seller_info.name}}</p>
                                <p class="product-price">$ {{p.price}}</p>
                                
                           </a>
                        {% endfor %}
                    </div>
                    <div class="pagination">
                        <div class="step-links">
                            {% if page_obj.has_previous %}
                            <a href="?page=1">&laquo; Primero</a>
                               
                                <a href="?page={{ page_obj.previous_page_number }}">
                                    
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16" style="margin-right: 5px;">
                                        <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
                                        <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
                                      </svg>
                                      Prev
                                </a>
                                
                            {% endif %}
    
                            <span class="current">
                                Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
                            </span>
    
                            {% if page_obj.has_next %}
                                <a href="?page={{ page_obj.next_page_number }}">
                                    Sig
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16" style="margin-left: 5px;">
                                    <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708"/>
                                    <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708"/>
                                  </svg></a>
                                  <a href="?page={{ page_obj.paginator.num_pages }}">Último &raquo;</a>
                                
                            {% endif %}
                        </div>
                    </div>

                </div>
                {% else %}
                <h3 style="color: #fff; font-size: 17px; margin-bottom: 10%;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-bookmark-x" viewBox="0 0 16 16" style="margin-right: 10px;">
                        <path fill-rule="evenodd" d="M6.146 5.146a.5.5 0 0 1 .708 0L8 6.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 7l1.147 1.146a.5.5 0 0 1-.708.708L8 7.707 6.854 8.854a.5.5 0 1 1-.708-.708L7.293 7 6.146 5.854a.5.5 0 0 1 0-.708"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/>
                      </svg>
                    Aún no tienes productos favoritos</h3>
                {% endif %}
            </div>

            </div>
         


    </div>
    {% endblock %}
   
 
</body>